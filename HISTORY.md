# Текущая генерация

## [3.4.0] &ndash; 2025-XX-XX
- [+] Полноценная версия для Linux и macOS без ограничений в виде фиксированного отдельного окна.
- [+] Мигающий индикатор занятости дисковода ([#28](../../issues/28)). 
- [+] Переключение языка интерфейса через меню ([#14](../../issues/14)). 
- [+] Добавлен режим масштабирования экрана в размер окна.
- [+] Добавлены горячие клавиши Ctrl-Break и Ctrl-Alt-Break для перезапуска.
- Агат-7: 
    - [+] Добавлен контроллер дисковода 840К, поддержка дисков 840К ([#7](../../issues/7)).
    - [~] Исправлены тайминги некоторых команд 6502, из-за которых скорость эмуляции не соответствовала оригиналу ([#27](../../issues/27))
    - [~] Исправлена ошибка контроллера 140к, из-за которой стандартные процедуры работы с диском выполнялись многократно медленнее ([#37](../../issues/37)).
    - [~] Для диска 140к введено два режима &mdash; &laquo;быстрый&raquo; и &laquo;синхронный&raquo;, имитирующий вращение диска в реальном времени. 
    - [~] совмещение видеорежимов [#25](../../issues/25);
    - [~] NMI & IRQ привязаны к циклам обновления экрана.
- [+] Переработан движок вывода видео, для Windows 10+, Linux и macOS реализован вывод через OpenGL, для всех платформ добавлен программный вывод средствами Qt. Примечание: вывод звука продолжает использовать SDL2, поэтому эта библиотека всё ещё нужна в любой версии.
- [~] Переработан движок вывода аудио &mdash; уменьшена задержка, улучшена точность воспроизведения ([#4](../../issues/4)), добавлен ФНЧ (фильтр Баттерворта второго порядка). 
- [~] Переработана компиляция под разные платформы: 
    - Доработана процедура сборки ([#30](../../issues/30)). 
    - Доработана процедура компиляции под macOS для поддержки Apple Silicon ([#29](../../issues/29), [#26](../../issues/26)).
- [~] Исправлена ошибка с битовыми операциями в 8255. 

## [3.3.0] &ndash; 2025-01-08
- [+] Версии для Windows 7, macOS и Linux.
- [+] Добавлен квадратный режим экрана.
- [+] Адресуемый порт: добавлен функционал &laquo;только для записи&raquo; и &laquo;сохранение при чтении&raquo;.
- [~] Значки устройств в тулбаре зависят от конфигурации [#9](../../issues/9). 
- [~] В связи с предыдущим изменением, способ опроса индикатора активности дисководов сделан более корректным.
- [~] Исправление ошибок с окном магнитофона [#6](../../issues/6).
- [~] Запоминание последней директории [#18](../../issues/18).
- [~] Устранена иногда возникающая проблема с долгой загрузкой конфигурации [#2](../../issues/2).
- [~] Улучшения кода.
- [~] Агат-7: 
    - исправлена цветовая палитра [#22](../../issues/22);
    - конфигурация изменена на стандартную заводскую с 96 Кб памяти [#20](../../issues/20);
    - исправлена ошибка с установкой видеорежима [#23](../../issues/23).

## [3.2.1] &ndash; 2024-09-24
- [~] Агат: исправлена ошибка с инверсией в текстовом режиме 64 символа. 

## [3.2.0] &ndash; 2024-09-23
- [+] Добавлен магнитофон как устройство для загрузки программ. Изображение &laquo;Электроники-302&raquo; использовано с разрешения [Владимира McClaud](http://www.mcclaud.ru), автора соответствующего [скина для AIMP](http://www.mcclaud.ru/oldgram/aimp_skin.htm). 
- [~] Доработан функционал сканирующей клавиатуры: 
    - Маппинг клавиш вынесен в отдельный файл.
    - Возможность принудительное включить или выключить Shift для нужных клавиш.
    - Исправлена ошибка с неправильной работой.
- [~] Улучшен рендеринг Markdown для описаний компьютеров, описания переработаны и дополнены. 
- [~] Файлы, загружаемые в конфигурациях машин, теперь могут лежать в общей директории data.

## [3.1.0] &ndash; 2024-07-02
- [+] Добавлен тип процессора 6502 (65C02).
- [+] Добавлен компьютер Агат-7.
    - Чтение: поддержка DSK-, MFM- и NIB-форматов для образов дисков.
    - Запись: поддержка сохранения в MFM-формат.
- [+] Добавлен новый тип клавиатур, записывающих параллельный код клавиши в регистр в соответствии с файлом маппинга.
- [~] Доработан функционал панели дампа в окне отладки.
- [~] Соединение интерфейсов с инверсией.
- [~] Возможность заполнения памяти случайными значениями при холодном сбросе.
- [~] Возможность задать значение порта после сброса, а также отдельный интерфейс для сброса во время работы.
- [~] Останов процессора в начале работы.
- [~] Для портов можно задать маску на запись.
- [~] Содержимое небольших ПЗУ можно задавать прямо в файле конфигурации.
- [~] Расширен функционал устройства register.
- [~] Устройство speaker может ловить короткие пики меньше периода сэмплинга звука.
- [~] Исправление ошибок.

## [3.0.0] &ndash; 2024-01-06
- [+] Код перенесен на C++/Qt6 + SDL2.
    - Универсальное ядро эмуляции; 
    - i8080 (свой код, проходит 8080exer), Z80 (свой код, проходит zexall).
    - i8253, i8255, i8257, i8275;
    - WD1793, дисковод;
    - Однобитный динамик;
    - Видео &ndash; РК-подобное (с цветом), Орион-128.
    - Отладчики i8080 и Z80.
- [?] Нет эмуляции задержек ВТ57+ВГ75, поэтому РК-подобные компьютеры работают немного быстрее оригиналов.
- [?] Нет полной эмуляции системы прерываний i8080 и Z80.
- [?] Возможно, есть проблемы с правильной интерпретацией атрибутов ВГ75.
- [?] Высокая нагрузка на процессор, нужна оптимизация критических мест.
- [?] При смене конфигурации периодически возникает долгая задержка.
- [?] Щелчки при инициализации звука.
- [?] В «Микроше» используется другой алгоритм подсчета CRC, поэтому при загрузке файлов выдается ошибка.
- [?] Возможны проблемы с соответствием клавиш на клавиатуре.
  
# Старые версии

## eCat2 &ndash; 2008-2009 ([Исходный код](https://github.com/Ptr314/ecat2))
* Эмулятор полностью переписан на Паскале. Код не привязан к конфигурации машин. 
* Компьютеры: Радио-86РК (+ разные клоны), Орион-128 (ВМ80 и Z80), Агат-7 (не завершен).

## eCat &ndash; 2005-2007
* Первая версия эмулятора. Delphi/Ассемблер. 
* Компьютеры: Радио-86РК, Микроша, Орион-128.
